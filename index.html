<!DOCTYPE html>
<html manifest="/manifest.appcache">
<head><meta charset="utf-8">
<title>bigtex</title>
<meta name="author" content="Stuart P. Bentley">
<link rel="author" href="http://stuartpb.com">
<link rel="repo" href="https://github.com/stuartpb/bigtex">
<style>
html, body {
margin: 0;
height: 100%;
width: 100%;
text-align: center;
}
.inverted {
  background-color: #000;
}
.inverted main {
  text-shadow: 0 0 0 #fff;
}
body::before {
content: '';
display: inline-block;
height: 100%;
vertical-align: middle;
}
main {
display: inline-block;
vertical-align: middle;
width: 100%;
font: 7em sans-serif;
outline: none;
text-shadow: 0 0 0 #000;
color: rgba(0,0,0,0);
}
main:empty {
text-shadow: none;
color: #000;
}
</style></head>
<body><main contenteditable="true"></main><script>
/* global getSelection */
function f(){document.body.firstChild.focus();}
document.body.addEventListener('click',f); f();
function flashOn(evt) {
  var focusPosition = getSelection().focusOffset;
  var nodeLength = getSelection().focusNode.length;
  if (((evt.keyCode == 37 || evt.keyCode == 38) && focusPosition == 0) ||
    ((evt.keyCode == 39 || evt.keyCode == 40) && focusPosition == nodeLength))
  document.body.classList.add('inverted');
}
document.body.addEventListener('keydown',flashOn);
function flashOff(evt) {
  document.body.classList.remove('inverted');
}
document.body.addEventListener('keyup',flashOff);
</script></body></html>
